"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[77840],{68857:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>b,frontMatter:()=>l,metadata:()=>d,toc:()=>u});var o=n(74848),i=n(28453),c=n(69678),r=n(70344),s=n(74597);const l={title:"Connecting to Bitbucket",description:"Learn how to connect to Bitbucket in Appcircle",tags:["source code management","bitbucket","bitbucket self-hosted"],sidebar_position:3},a="Connecting to Bitbucket",d={id:"build/manage-the-connections/adding-a-build-profile/connecting-to-bitbucket",title:"Connecting to Bitbucket",description:"Learn how to connect to Bitbucket in Appcircle",source:"@site/docs/004_build/manage-the-connections/adding-a-build-profile/connecting-to-bitbucket.md",sourceDirName:"004_build/manage-the-connections/adding-a-build-profile",slug:"/build/manage-the-connections/adding-a-build-profile/connecting-to-bitbucket",permalink:"/nextjs-upload-file-tryout/build/manage-the-connections/adding-a-build-profile/connecting-to-bitbucket",draft:!1,unlisted:!1,editUrl:"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/004_build/manage-the-connections/adding-a-build-profile/connecting-to-bitbucket.md",tags:[{label:"source code management",permalink:"/nextjs-upload-file-tryout/tags/source-code-management"},{label:"bitbucket",permalink:"/nextjs-upload-file-tryout/tags/bitbucket"},{label:"bitbucket self-hosted",permalink:"/nextjs-upload-file-tryout/tags/bitbucket-self-hosted"}],version:"current",sidebarPosition:3,frontMatter:{title:"Connecting to Bitbucket",description:"Learn how to connect to Bitbucket in Appcircle",tags:["source code management","bitbucket","bitbucket self-hosted"],sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Connecting to GitLab",permalink:"/nextjs-upload-file-tryout/build/manage-the-connections/adding-a-build-profile/connecting-to-gitlab"},next:{title:"Connecting to Azure DevOps",permalink:"/nextjs-upload-file-tryout/build/manage-the-connections/adding-a-build-profile/connecting-to-azure"}},p={},u=[{value:"Connecting to bitbucket.com",id:"connecting-to-bitbucketcom",level:2},{value:"Connecting to Bitbucket Self Hosted Repository",id:"connecting-to-bitbucket-self-hosted-repository",level:2},{value:"Connection Notice",id:"connection-notice",level:3},{value:"Token Creation",id:"token-creation",level:3},{value:"Create HTTP access tokens for projects or repositories",id:"create-http-access-tokens-for-projects-or-repositories",level:3},{value:"Check Token",id:"check-token",level:3},...s.RM];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{ExternalUrlRef:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"connecting-to-bitbucket",children:"Connecting to Bitbucket"}),"\n",(0,o.jsx)(t.h2,{id:"connecting-to-bitbucketcom",children:"Connecting to bitbucket.com"}),"\n",(0,o.jsx)(t.p,{children:"If you authorize Appcircle to access your repositories on BitBucket, you can select the repository that you want to connect in the next screen."}),"\n",(0,o.jsx)(c.A,{url:"https://cdn.appcircle.io/docs/assets/main-connection.png"}),"\n",(0,o.jsxs)(t.p,{children:["After you click on ",(0,o.jsx)(t.strong,{children:"Bitbucket"}),", the following screen will appear. This will let you choose between selecting a repository which you are already authorized Appcircle to do or ask your consent about authorizing more repositories."]}),"\n",(0,o.jsx)(c.A,{url:"https://cdn.appcircle.io/docs/assets/main-connection-bt.png"}),"\n",(0,o.jsx)(t.p,{children:"When you successfully authorize your account, the following screen will appear to let you select one for connection:"}),"\n",(0,o.jsx)(c.A,{url:"https://cdn.appcircle.io/docs/assets/connect-repository-bitbucket-gitlab.png"}),"\n",(0,o.jsxs)(t.p,{children:["After the connection is successful, you can ",(0,o.jsx)(t.a,{href:"/build/manage-the-connections/adding-a-build-profile/#view-the-newly-created-build-profile",children:"view your newly created profile"})," and start building!"]}),"\n",(0,o.jsx)(t.h2,{id:"connecting-to-bitbucket-self-hosted-repository",children:"Connecting to Bitbucket Self Hosted Repository"}),"\n",(0,o.jsx)(t.p,{children:"Overall process is similar with private repository connection through SSH, but Appcircle allows to directly connect through Bitbucket Self Hosted URL."}),"\n",(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsxs)(t.p,{children:["Bitbucket's version must be ",(0,o.jsx)(t.strong,{children:"7.14"})," or higher."]})}),"\n",(0,o.jsxs)(t.p,{children:["First, select ",(0,o.jsx)(t.strong,{children:"Bitbucket"})," then ",(0,o.jsx)(t.strong,{children:"Connect to a Bitbucket Server"})," through the menu:"]}),"\n",(0,o.jsx)(c.A,{url:"https://cdn.appcircle.io/docs/assets/bt-connect-self.png"}),"\n",(0,o.jsx)(t.p,{children:"Fill the relevant information about your Bitbucket self-hosted module. If you are not sure what those are, contact your system administrator."}),"\n",(0,o.jsx)(c.A,{url:"https://cdn.appcircle.io/docs/assets/bt-self-hosted-detail.png"}),"\n",(0,o.jsxs)(t.admonition,{type:"caution",children:[(0,o.jsx)(t.h3,{id:"connection-notice",children:"Connection Notice"}),(0,o.jsx)(t.p,{children:"For Appcircle to connect to the Self Hosted Bitbucket Instance, your connection must be reachable over the internet."})]}),"\n",(0,o.jsx)(t.p,{children:"Is your self-hosted Bitbucket instance under enterprise firewall? Learn which IP addresses and ports Appcircle uses to function under the whitelist documentation:"}),"\n",(0,o.jsx)(r.A,{url:"/build/manage-the-connections/accessing-repositories-in-internal-networks-firewalls",children:(0,o.jsx)(t.p,{children:"Accessing Repositories in Internal Networks (Firewalls)"})}),"\n",(0,o.jsx)(t.h3,{id:"token-creation",children:"Token Creation"}),"\n",(0,o.jsxs)(t.p,{children:["Bitbucket has ",(0,o.jsx)(t.strong,{children:"Personal Access Token"})," to authorize the user. Relevant guide:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://confluence.atlassian.com/bitbucketserver/personal-access-tokens-939515499.html",children:(0,o.jsx)(n,{url:"https://confluence.atlassian.com/bitbucketserver/personal-access-tokens-939515499.html",title:"HTTP access tokens | Bitbucket Data Center 8.19 | Atlassian Documentation",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsx)(t.p,{children:"Appcircle needs admin permission to function properly. The admin permission is needed to create relevant WebHooks automatically."})}),"\n",(0,o.jsx)(t.admonition,{type:"danger",children:(0,o.jsx)(t.p,{children:"Bitbucket doesn't allow scoped repository permissions like GitHub. Therefore the token you add can access all the repositories of the token's owner. When you're adding a token, it's better to create a new bot user or a project and give access to only the required repositories for build to succeed."})}),"\n",(0,o.jsx)(t.p,{children:"You may create access token to specific project or a repository which can help you to restrict the access level of the token."}),"\n",(0,o.jsx)(t.h3,{id:"create-http-access-tokens-for-projects-or-repositories",children:"Create HTTP access tokens for projects or repositories"}),"\n",(0,o.jsx)(t.p,{children:"HTTP access tokens can be created for teams to grant permissions at the project or repository level rather than for specific users."}),"\n",(0,o.jsx)(t.p,{children:"To create an HTTP access token for a project or repository (requires project or repository admin permissions):"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"From either the Project or Repository settings, select HTTP access tokens."}),"\n",(0,o.jsx)(t.li,{children:"Select Create token."}),"\n",(0,o.jsx)(t.li,{children:"Set the token name, permissions, and expiry."}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"check-token",children:"Check Token"}),"\n",(0,o.jsx)(t.p,{children:"You can follow the steps below to check if your token is valid."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Open the terminal and issue the following command"}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"curl --user name:password http://YOUR_BITBUCKET_HOST/rest/api/1.0/repos\n"})}),"\n",(0,o.jsx)(t.p,{children:"Above command should print out your projects. If you don't see an output, please check your token and Bitbucket address."}),"\n",(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsxs)(t.p,{children:["Please also make sure that the output doesn't show any reference to ",(0,o.jsx)(t.code,{children:"localhost"}),". If you see ",(0,o.jsx)(t.code,{children:"localhost"}),", you need to configure Bitbucket and put the correct address of your Bitbucket instance."]})}),"\n",(0,o.jsx)(s.Ay,{})]})}function b(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},74597:(e,t,n)=>{n.d(t,{Ay:()=>s,RM:()=>c});var o=n(74848),i=n(28453);const c=[{value:"Need help?",id:"need-help",level:3}];function r(e){const t={a:"a",h3:"h3",p:"p",...(0,i.R)(),...e.components},{ExternalUrlRef:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h3,{id:"need-help",children:"Need help?"}),"\n",(0,o.jsx)(t.p,{children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,o.jsx)(n,{url:"https://join.slack.com/t/appcircleio/signup",title:"join.slack.com",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function s(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}},70344:(e,t,n)=>{n.d(t,{A:()=>a});var o,i,c=n(96540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(null,arguments)}const s=e=>{let{title:t,titleId:n,...s}=e;return c.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text","aria-labelledby":n},s),t?c.createElement("title",{id:n},t):null,o||(o=c.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})),i||(i=c.createElement("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})))};var l=n(74848);function a(e){let{children:t,url:n}=e;return(0,l.jsxs)("a",{href:n,className:"content-ref-card",children:[(0,l.jsx)(s,{title:"File Icon",className:"file-icon"}),t]})}},69678:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var o=n(74848);function i(e){let{url:t,description:n=""}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:""!=n?24:8},children:[(0,o.jsx)("img",{className:"screenshot",src:t,style:{borderRadius:5,marginBottom:""!=n?8:24}}),""!=n?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{paddingTop:0,marginTop:0,fontWeight:"500",fontStyle:"italic",color:"rgba(0,0,0,0.5)"},children:n})}):(0,o.jsx)(o.Fragment,{})]})})}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(96540);const i={},c=o.createContext(i);function r(e){const t=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(c.Provider,{value:t},e.children)}}}]);