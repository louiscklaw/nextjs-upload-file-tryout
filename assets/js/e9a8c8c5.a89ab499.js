"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[35979],{9596:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>f,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var o=n(74848),t=n(28453),r=n(70344),s=n(69678);const a={title:"iOS Builds",description:"Learn how to use environment variables in iOS projects in Appcircle",tags:["environment variables","env vars","variables","ios","Xcode","build configuration","custom build scripts"],sidebar_position:4},l="Using Environment Variables in iOS Projects",c={id:"config-management/platform-specific-usage/using-environment-variables-in-ios-projects",title:"iOS Builds",description:"Learn how to use environment variables in iOS projects in Appcircle",source:"@site/docs/060_config-management/platform-specific-usage/using-environment-variables-in-ios-projects.md",sourceDirName:"060_config-management/platform-specific-usage",slug:"/config-management/platform-specific-usage/using-environment-variables-in-ios-projects",permalink:"/nextjs-upload-file-tryout/config-management/platform-specific-usage/using-environment-variables-in-ios-projects",draft:!1,unlisted:!1,editUrl:"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/060_config-management/platform-specific-usage/using-environment-variables-in-ios-projects.md",tags:[{label:"environment variables",permalink:"/nextjs-upload-file-tryout/tags/environment-variables"},{label:"env vars",permalink:"/nextjs-upload-file-tryout/tags/env-vars"},{label:"variables",permalink:"/nextjs-upload-file-tryout/tags/variables"},{label:"ios",permalink:"/nextjs-upload-file-tryout/tags/ios"},{label:"Xcode",permalink:"/nextjs-upload-file-tryout/tags/xcode"},{label:"build configuration",permalink:"/nextjs-upload-file-tryout/tags/build-configuration"},{label:"custom build scripts",permalink:"/nextjs-upload-file-tryout/tags/custom-build-scripts"}],version:"current",sidebarPosition:4,frontMatter:{title:"iOS Builds",description:"Learn how to use environment variables in iOS projects in Appcircle",tags:["environment variables","env vars","variables","ios","Xcode","build configuration","custom build scripts"],sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Platform-Specific Usage",permalink:"/nextjs-upload-file-tryout/config-management/platform-specific-usage/"},next:{title:"Android Builds",permalink:"/nextjs-upload-file-tryout/config-management/platform-specific-usage/using-environment-variables-in-android-projects"}},d={},u=[{value:"Xcode configuration files",id:"xcode-configuration-files",level:3},{value:"Creating Xcode build configuration files",id:"creating-xcode-build-configuration-files",level:3},{value:"Adding variables into build configuration file",id:"adding-variables-into-build-configuration-file",level:3},{value:"Using different values for different stages",id:"using-different-values-for-different-stages",level:3},{value:"Accessing build configuration values from your project",id:"accessing-build-configuration-values-from-your-project",level:3},{value:"Replacing configuration settings values with environment variables",id:"replacing-configuration-settings-values-with-environment-variables",level:3}];function p(e){const i={admonition:"admonition",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"using-environment-variables-in-ios-projects",children:"Using Environment Variables in iOS Projects"}),"\n",(0,o.jsx)(i.p,{children:"We strongly recommend using environment variables if you need to use sensitive or variable data in your projects. Using sensitive data such as API keys and passwords may cause security flaws or keeping frequently changing variables may increase your development time."}),"\n",(0,o.jsx)(i.h3,{id:"xcode-configuration-files",children:"Xcode configuration files"}),"\n",(0,o.jsxs)(i.p,{children:["Xcode allows you to create build configuration files commonly known as ",(0,o.jsx)(i.code,{children:"xcconfig"})," files. These files can hold key/value pairs for your project-wide variables. Once you create these configuration variables, you can then use Appcircle's custom script workflow steps to replace them with the environment variables you create in Appcircle."]}),"\n",(0,o.jsx)(i.h3,{id:"creating-xcode-build-configuration-files",children:"Creating Xcode build configuration files"}),"\n",(0,o.jsxs)(i.p,{children:["Simply create a new file by selecting ",(0,o.jsx)(i.strong,{children:"File > New"})," from Xcode menu and choose ",(0,o.jsx)(i.strong,{children:"Configuration Settings File"})," under ",(0,o.jsx)(i.strong,{children:"Other"})," section in the Xcode window."]}),"\n",(0,o.jsx)(s.A,{url:"https://cdn.appcircle.io/docs/assets/env-var-ios-02.jpg"}),"\n",(0,o.jsxs)(i.p,{children:["Once you create your ",(0,o.jsx)(i.code,{children:".xcconfig"})," file, you can now assign it to your targets in Configurations window:"]}),"\n",(0,o.jsx)(s.A,{url:"https://cdn.appcircle.io/docs/assets/env-var-ios-03.jpg"}),"\n",(0,o.jsx)(i.h3,{id:"adding-variables-into-build-configuration-file",children:"Adding variables into build configuration file"}),"\n",(0,o.jsxs)(i.p,{children:["You can now add your project-wide variables into the ",(0,o.jsx)(i.code,{children:".xcconfig"})," file:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-swift",children:"// Application name\nAPPLICATION_NAME = Appcircle\n// API endpoint\nAPI_URL = api.appcircle.io\n"})}),"\n",(0,o.jsx)(i.admonition,{type:"info",children:(0,o.jsxs)(i.p,{children:["Please note that Xcode will treat double slashes // as comment delimiters even if it\u2019s a URL. That\u2019s why you may exclude the ",(0,o.jsx)(i.code,{children:"https://"})," portion of your URLs or use different symbols to be replaced later in your code."]})}),"\n",(0,o.jsx)(i.h3,{id:"using-different-values-for-different-stages",children:"Using different values for different stages"}),"\n",(0,o.jsx)(i.p,{children:"You may want to use different values of the same environment variables for different stages of your application. For example, an API endpoint may need to be different for the development and production stages."}),"\n",(0,o.jsx)(i.p,{children:"Xcode allows you to include and inherit build configuration files and use different configuration files for different targets of your project.;"}),"\n",(0,o.jsxs)(i.p,{children:["Here's a sample code showing importing the main ",(0,o.jsx)(i.code,{children:"config.xcconfig"})," file into a ",(0,o.jsx)(i.code,{children:"development.xcconfig"})," file and alter the value of a variable:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-swift",children:'// include the main xcconfig file\n#include "path/to/Config.xcconfig"\n\n// Development.xcconfig\nAPPLICATION_NAME = $(inherited) DEV\n\n'})}),"\n",(0,o.jsx)(i.h3,{id:"accessing-build-configuration-values-from-your-project",children:"Accessing build configuration values from your project"}),"\n",(0,o.jsx)(i.p,{children:"Now that we have our build configuration files ready, we need to tell our project to use the values from these files for certain variables.;"}),"\n",(0,o.jsxs)(i.p,{children:["Xcode\u2019s Info tab in the configuration window refers to the target\u2019s ",(0,o.jsx)(i.code,{children:"info.plist"})," file, which is compiled during the build process into the application bundle. Here, by simply adding a reference to the ",(0,o.jsx)(i.code,{children:"$(API_URL)"})," variable, you can access its value from your bundle."]}),"\n",(0,o.jsx)(s.A,{url:"https://cdn.appcircle.io/docs/assets/env-var-ios-04.jpg"}),"\n",(0,o.jsx)(i.p,{children:"Final step in Xcode will be calling the variables from your code's view controller:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-swift",children:'- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.lblVersion.text =  [NSString stringWithFormat:@"v%@",[[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleShortVersionString"]];\n    self.lblApi.text = [NSString stringWithFormat:@"Api URL: %@\\nApi KEY: %@",[[NSBundle mainBundle] objectForInfoDictionaryKey:@"API_URL"],[[NSBundle mainBundle] objectForInfoDictionaryKey:@"API_KEY"]];\n}\n\n'})}),"\n",(0,o.jsx)(i.h3,{id:"replacing-configuration-settings-values-with-environment-variables",children:"Replacing configuration settings values with environment variables"}),"\n",(0,o.jsx)(i.p,{children:"You can create environment variable groups and key/value pairs in these groups. To learn more about creating environment variables in Appcircle please see the following page:"}),"\n",(0,o.jsx)(r.A,{url:"/environment-variables/managing-variables",children:"Managing Variables"}),"\n",(0,o.jsxs)(i.p,{children:["Once you update your project with ",(0,o.jsx)(i.code,{children:".xcconfig"})," files, you can create environment variable groups and include different values of the same environment variable to be used in different stages of your application like development or production."]}),"\n",(0,o.jsx)(s.A,{url:"https://cdn.appcircle.io/docs/assets/be-3108-var9.png"}),"\n",(0,o.jsxs)(i.p,{children:["To be able to use these variables in your project, we need to replace the values in our ",(0,o.jsx)(i.code,{children:".xcconfig"})," file using a custom script workflow step. To get more information about creating and using custom scripts, please check the following page:"]}),"\n",(0,o.jsx)(r.A,{url:"/workflows/common-workflow-steps/custom-script",children:"Working with Custom Scripts"}),"\n",(0,o.jsx)(i.p,{children:"In our example here, we will use a Bash script to replace the values in our .xcconfig file.;"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:'echo "API_URL : ${API_URL}"\necho "API_KEY : ${API_KEY}"\nbash $AC_REPOSITORY_DIR/Appcircle/environment.sh $AC_REPOSITORY_DIR/Appcircle/development.xcconfig\n'})}),"\n",(0,o.jsx)(i.p,{children:"During the build process, this Bash script will replace the values in the .xcconfig file with the environment variables created earlier."})]})}function f(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},70344:(e,i,n)=>{n.d(i,{A:()=>c});var o,t,r=n(96540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(null,arguments)}const a=e=>{let{title:i,titleId:n,...a}=e;return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text","aria-labelledby":n},a),i?r.createElement("title",{id:n},i):null,o||(o=r.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})),t||(t=r.createElement("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})))};var l=n(74848);function c(e){let{children:i,url:n}=e;return(0,l.jsxs)("a",{href:n,className:"content-ref-card",children:[(0,l.jsx)(a,{title:"File Icon",className:"file-icon"}),i]})}},69678:(e,i,n)=>{n.d(i,{A:()=>t});n(96540);var o=n(74848);function t(e){let{url:i,description:n=""}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:""!=n?24:8},children:[(0,o.jsx)("img",{className:"screenshot",src:i,style:{borderRadius:5,marginBottom:""!=n?8:24}}),""!=n?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{paddingTop:0,marginTop:0,fontWeight:"500",fontStyle:"italic",color:"rgba(0,0,0,0.5)"},children:n})}):(0,o.jsx)(o.Fragment,{})]})})}},28453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>a});var o=n(96540);const t={},r=o.createContext(t);function s(e){const i=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(r.Provider,{value:i},e.children)}}}]);