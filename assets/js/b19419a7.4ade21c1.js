"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[24113],{92365:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var t=s(74848),n=s(28453),r=s(69678);const o={title:"Android Sign",description:"This step signs your APK or AAB with the given Android keystore and exports a binary file compatible with Android devices.",tags:["android","mobile","sign"]},d="Android Sign",l={id:"workflows/android-specific-workflow-steps/android-sign",title:"Android Sign",description:"This step signs your APK or AAB with the given Android keystore and exports a binary file compatible with Android devices.",source:"@site/docs/700_workflows/android-specific-workflow-steps/android-sign.md",sourceDirName:"700_workflows/android-specific-workflow-steps",slug:"/workflows/android-specific-workflow-steps/android-sign",permalink:"/nextjs-upload-file-tryout/workflows/android-specific-workflow-steps/android-sign",draft:!1,unlisted:!1,editUrl:"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/700_workflows/android-specific-workflow-steps/android-sign.md",tags:[{label:"android",permalink:"/nextjs-upload-file-tryout/tags/android"},{label:"mobile",permalink:"/nextjs-upload-file-tryout/tags/mobile"},{label:"sign",permalink:"/nextjs-upload-file-tryout/tags/sign"}],version:"current",frontMatter:{title:"Android Sign",description:"This step signs your APK or AAB with the given Android keystore and exports a binary file compatible with Android devices.",tags:["android","mobile","sign"]},sidebar:"tutorialSidebar",previous:{title:"Android Dependency Report",permalink:"/nextjs-upload-file-tryout/workflows/android-specific-workflow-steps/android-dependency-report"},next:{title:"Android Unit Tests",permalink:"/nextjs-upload-file-tryout/workflows/android-specific-workflow-steps/android-unit-tests"}},c={},a=[{value:"Prerequisites",id:"prerequisites",level:3},{value:"Input Variables",id:"input-variables",level:3},{value:"Output Variables",id:"output-variables",level:3}];function h(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components},{ExternalUrlRef:s}=i;return s||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"android-sign",children:"Android Sign"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Android Sign"})," step signs your ",(0,t.jsx)(i.em,{children:"APK"})," or ",(0,t.jsx)(i.em,{children:"AAB"})," with the given Android ",(0,t.jsx)(i.em,{children:"keystore"})," and exports a binary file compatible with Android devices."]}),"\n",(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsxs)(i.p,{children:["This step follows the ",(0,t.jsx)(i.a,{href:"https://docs.appcircle.io/workflows/android-specific-workflow-steps#android-build",children:(0,t.jsx)(i.strong,{children:"Android Build"})})," step to sign the unsigned build output if the project doesn't include a ",(0,t.jsx)(i.em,{children:"keystore"}),". If your project includes a ",(0,t.jsx)(i.em,{children:"keystore"}),", the build application step will generate a signed artifact. If you do not disable this step, your artifact will be unsigned and then re-signed using the ",(0,t.jsx)(i.em,{children:"keystore"})," selected in the ",(0,t.jsx)(i.strong,{children:"Configuration"})," or in this step."]})}),"\n",(0,t.jsx)(i.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(i.p,{children:["The workflow steps that need to be executed before running the ",(0,t.jsx)(i.strong,{children:"Android Build"})," workflow step, along with their respective reasons, are listed in the table below."]}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Prerequisite Workflow Step"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.a,{href:"https://docs.appcircle.io/workflows/common-workflow-steps/#git-clone",children:"Git Clone"})}),(0,t.jsxs)(i.td,{children:["This step relies on the ",(0,t.jsx)(i.strong,{children:"Android Build"})," step and the ",(0,t.jsx)(i.strong,{children:"Git Clone"})," step is necessary for the ",(0,t.jsx)(i.strong,{children:"Android Build"})," step to run successfully."]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.a,{href:"https://docs.appcircle.io/workflows/android-specific-workflow-steps#android-build",children:"Android Build"})}),(0,t.jsxs)(i.td,{children:["The app required for this step is generated by the ",(0,t.jsx)(i.strong,{children:"Android Build"})," (or alternative build steps)."]})]})]})]}),"\n",(0,t.jsx)(i.admonition,{type:"caution",children:(0,t.jsxs)(i.p,{children:["If a step other than the ",(0,t.jsx)(i.strong,{children:"Android Build"})," step is used to build an app, then the ",(0,t.jsx)(i.strong,{children:"Android Sign"})," step depends on this step."]})}),"\n",(0,t.jsx)(r.A,{url:"https://cdn.appcircle.io/docs/assets/android-workflow-components-android-sign_0.png",alt:"image1"}),"\n",(0,t.jsx)(i.admonition,{type:"danger",children:(0,t.jsxs)(i.p,{children:["To share the signed apps created as an output of this step or to view them on the ",(0,t.jsx)(i.strong,{children:"Download Artifacts"})," page, please ensure that the ",(0,t.jsx)(i.a,{href:"https://docs.appcircle.io/workflows/common-workflow-steps/#export-build-artifacts",children:(0,t.jsx)(i.strong,{children:"Export Build Artifacts"})})," step is included in your workflow after this step."]})}),"\n",(0,t.jsx)(i.h3,{id:"input-variables",children:"Input Variables"}),"\n",(0,t.jsxs)(i.p,{children:["For each component, specific input variables are required for its operation on your system. The input variables necessary for the ",(0,t.jsx)(i.strong,{children:"Android Sign"})," are as follows:"]}),"\n",(0,t.jsx)(r.A,{url:"https://cdn.appcircle.io/docs/assets/android-workflow-components-android-sign_1.png",alt:"image1"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Variable Name"}),(0,t.jsx)(i.th,{children:"Description"}),(0,t.jsx)(i.th,{children:"Status"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_APK_PATH"})}),(0,t.jsxs)(i.td,{children:["The path of the ",(0,t.jsx)(i.em,{children:"APK"})," file. This path is automatically generated in the ",(0,t.jsx)(i.strong,{children:"Android Build"})," step. You may need to modify this input variable to provide a different path."]}),(0,t.jsx)(i.td,{children:"Required"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_AAB_PATH"})}),(0,t.jsxs)(i.td,{children:["The path of the ",(0,t.jsx)(i.em,{children:"AAB"})," file. This path is automatically generated in the ",(0,t.jsx)(i.strong,{children:"Android Build"})," step. You may need to modify this input variable to provide a different path."]}),(0,t.jsx)(i.td,{children:"Required"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_ANDROID_KEYSTORE_PATH"})}),(0,t.jsxs)(i.td,{children:[(0,t.jsx)(i.em,{children:"Keystore"})," file can be selected in the ",(0,t.jsx)(i.strong,{children:"Configuration"}),". This value will be auto-generated depending on your ",(0,t.jsx)(i.em,{children:"keystore"})," file selection in ",(0,t.jsx)(i.a,{href:"https://docs.appcircle.io/build/building-android-applications#signing",children:"signing configuration on Appcircle"}),"."]}),(0,t.jsx)(i.td,{children:"Required"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_ANDROID_KEYSTORE_PASSWORD"})}),(0,t.jsxs)(i.td,{children:["Password for the selected ",(0,t.jsx)(i.em,{children:"keystore"})," file. This value will be auto-generated based on your ",(0,t.jsx)(i.em,{children:"keystore"})," file selection."]}),(0,t.jsx)(i.td,{children:"Required"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_ANDROID_ALIAS"})}),(0,t.jsxs)(i.td,{children:["Alias name for the selected ",(0,t.jsx)(i.em,{children:"keystore"})," file. This value will be auto-generated depending on your ",(0,t.jsx)(i.strong,{children:"Configuration"})]}),(0,t.jsx)(i.td,{})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_ANDROID_ALIAS_PASSWORD"})}),(0,t.jsxs)(i.td,{children:["Alias password for the selected ",(0,t.jsx)(i.em,{children:"keystore"})," file. This value will be auto-generated depending on your ",(0,t.jsx)(i.strong,{children:"Configuration"})]}),(0,t.jsx)(i.td,{})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_V2_SIGN"})}),(0,t.jsxs)(i.td,{children:["Defaults to false. Set true if the signature should be done using apksigner instead of jarsigner. For more information, ",(0,t.jsx)(i.a,{href:"https://developer.android.com/about/versions/11/behavior-changes-11#minimum-signature-scheme",children:"Apps targeting Android 11 require APK Signature Scheme v2"}),"."]}),(0,t.jsx)(i.td,{children:"Optional"})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"output-variables",children:"Output Variables"}),"\n",(0,t.jsx)(i.p,{children:"The outputs that can result from the operation of this component are listed as follows."}),"\n",(0,t.jsx)(r.A,{url:"https://cdn.appcircle.io/docs/assets/android-workflow-components-android-sign_2.png",alt:"image2"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Variable Name"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_SIGNED_APK_PATH"})}),(0,t.jsxs)(i.td,{children:["Path for the signed ",(0,t.jsx)(i.em,{children:"APK"})," file output. If an ",(0,t.jsx)(i.em,{children:"APK"})," file is provided as input, the signed app will also be in ",(0,t.jsx)(i.em,{children:"APK"})," format."]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"$AC_SIGNED_AAB_PATH"})}),(0,t.jsxs)(i.td,{children:["Path for the signed App Bundle file output. If an ",(0,t.jsx)(i.em,{children:"AAB"})," file is provided as input, the signed app will also be in ",(0,t.jsx)(i.em,{children:"AAB"})," format."]})]})]})]}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsxs)(i.p,{children:["If both input value types (",(0,t.jsx)(i.em,{children:"AAB"})," and ",(0,t.jsx)(i.em,{children:"APK"}),") are provided, the same type of signed app will be generated for both."]})}),"\n",(0,t.jsx)(i.p,{children:"To access the source code of this component, please use the following link:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://github.com/appcircleio/appcircle-android-sign-component.git",children:(0,t.jsx)(s,{url:"https://github.com/appcircleio/appcircle-android-sign-component.git",title:"GitHub - appcircleio/appcircle-android-sign-component",description:"Contribute to appcircleio/appcircle-android-sign-component development by creating an account on GitHub.",image:"https://opengraph.githubassets.com/8d10ea42c7c7ff084bc65e2e3587ea7b4a03a30de62d8b2b649340a5e4868a6d/appcircleio/appcircle-android-sign-component"})})})]})}function p(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},69678:(e,i,s)=>{s.d(i,{A:()=>n});s(96540);var t=s(74848);function n(e){let{url:i}=e;return(0,t.jsx)("img",{className:"screenshot",src:i})}},28453:(e,i,s)=>{s.d(i,{R:()=>o,x:()=>d});var t=s(96540);const n={},r=t.createContext(n);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);