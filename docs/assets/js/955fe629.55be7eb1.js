"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7046],{29416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var a=t(74848),i=t(28453),o=t(69678);const s={title:"API and CLI Authentication",description:"Learn how to authenticate with the Appcircle API and CLI",tags:["api","cli","authentication","personal api token","api token","cli token","session token"],sidebar_position:2},r="API and CLI Authentication",c={id:"appcircle-api/api-authentication",title:"API and CLI Authentication",description:"Learn how to authenticate with the Appcircle API and CLI",source:"@site/docs/appcircle-api/api-authentication.md",sourceDirName:"appcircle-api",slug:"/appcircle-api/api-authentication",permalink:"/nextjs-upload-file-tryout/appcircle-api/api-authentication",draft:!1,unlisted:!1,editUrl:"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/appcircle-api/api-authentication.md",tags:[{label:"api",permalink:"/nextjs-upload-file-tryout/tags/api"},{label:"cli",permalink:"/nextjs-upload-file-tryout/tags/cli"},{label:"authentication",permalink:"/nextjs-upload-file-tryout/tags/authentication"},{label:"personal api token",permalink:"/nextjs-upload-file-tryout/tags/personal-api-token"},{label:"api token",permalink:"/nextjs-upload-file-tryout/tags/api-token"},{label:"cli token",permalink:"/nextjs-upload-file-tryout/tags/cli-token"},{label:"session token",permalink:"/nextjs-upload-file-tryout/tags/session-token"}],version:"current",sidebarPosition:2,frontMatter:{title:"API and CLI Authentication",description:"Learn how to authenticate with the Appcircle API and CLI",tags:["api","cli","authentication","personal api token","api token","cli token","session token"],sidebar_position:2},sidebar:"mySidebar",previous:{title:"Introduction to Appcircle CLI and API",permalink:"/nextjs-upload-file-tryout/appcircle-api/"},next:{title:"Overview & Concepts",permalink:"/nextjs-upload-file-tryout/self-hosted-appcircle/"}},l={},p=[{value:"Generating/Managing the Personal API Tokens",id:"generatingmanaging-the-personal-api-tokens",level:3},{value:"Using the Token for API Authentication",id:"using-the-token-for-api-authentication",level:3},{value:"Using the Token for CLI Authentication",id:"using-the-token-for-cli-authentication",level:3},{value:"API Documentation",id:"api-documentation",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"api-and-cli-authentication",children:"API and CLI Authentication"}),"\n",(0,a.jsxs)(n.p,{children:["The Appcircle API supports authentication with a ",(0,a.jsx)(n.em,{children:"Personal API Token"}),". The token for each user will have the same permissions with the user within the organization and each organization require a separate Personal API Token."]}),"\n",(0,a.jsx)(n.h3,{id:"generatingmanaging-the-personal-api-tokens",children:"Generating/Managing the Personal API Tokens"}),"\n",(0,a.jsxs)(n.p,{children:["To generate a Personal API Token, go to the ",(0,a.jsx)(n.a,{href:"/account/my-organization#accessing-the-my-organization-screen",children:"My Organization"})," screen in the Appcircle dashboard. The Personal API Token section is located on the top right."]}),"\n",(0,a.jsx)(n.p,{children:'Press the "Generate Token" button to generate your first token.'}),"\n",(0,a.jsx)(o.A,{url:"https://cdn.appcircle.io/docs/assets/image (163).png"}),"\n",(0,a.jsx)(n.p,{children:"The token will then be generated and displayed above the button. Please make sure that you save the token before navigating away from the page as it will be displayed only once for security reasons."}),"\n",(0,a.jsx)(o.A,{url:"https://cdn.appcircle.io/docs/assets/image (164).png"}),"\n",(0,a.jsx)(n.p,{children:'If you want to revoke a previously generated token, press "Revoke Token" and confirm. You can then generate a new token if you would like.'}),"\n",(0,a.jsx)(o.A,{url:"https://cdn.appcircle.io/docs/assets/image (165).png"}),"\n",(0,a.jsx)(n.h3,{id:"using-the-token-for-api-authentication",children:"Using the Token for API Authentication"}),"\n",(0,a.jsxs)(n.p,{children:["For authentication, you need to ",(0,a.jsx)(n.a,{href:"https://api.appcircle.io/openapi/index.html?urls.primaryName=auth",children:"generate a session token from the Auth API using the Personal API Token"})," and add the generated session token value along with an ",(0,a.jsx)(n.code,{children:"Authorization"})," header in all API requests."]}),"\n",(0,a.jsx)(n.p,{children:"A curl-based API call sample is as follows:"}),"\n",(0,a.jsx)(n.p,{children:'First generate an authorization token using the Auth API with the Personal API Token specified as "Personal-API-Token":'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://auth.appcircle.io/auth/v1/token" -H  "accept: application/json" -H  "Content-Type: application/x-www-form-urlencoded" -d "pat=Personal-API-Token"\n'})}),"\n",(0,a.jsx)(n.p,{children:'Then use the generated auth token specified as "Auth-Token-Goes-Here":'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://api.appcircle.io/distribution/v2/profiles" -H  "accept: application/json" -H  "Authorization: Auth-Token-Goes-Here"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"using-the-token-for-cli-authentication",children:"Using the Token for CLI Authentication"}),"\n",(0,a.jsxs)(n.p,{children:["For authentication, you need to generate a session token from the ",(0,a.jsx)(n.a,{href:"https://github.com/appcircleio/appcircle-cli#appcircle-command-line-interface",children:"Appcircle CLI"})," using the Personal API Token and add the generated session token value as an environment variable"]}),"\n",(0,a.jsx)(n.p,{children:'Using the Appcircle CLI, create a full access API token using the following command with the Personal API Token specified as "pat":'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"appcircle login ${pat}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Then copy the result and set it as the ",(0,a.jsx)(n.code,{children:"AC_ACCESS_TOKEN"})," environment variable."]}),"\n",(0,a.jsx)(n.h3,{id:"api-documentation",children:"API Documentation"}),"\n",(0,a.jsxs)(n.p,{children:["Please check the ",(0,a.jsx)(n.a,{href:"https://api.appcircle.io/openapi/index.html",children:"documentation"})," to learn more about Appcircle API."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},69678:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var a=t(74848);function i(e){let{url:n}=e;return(0,a.jsx)("img",{className:"screenshot",src:n})}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var a=t(96540);const i={},o=a.createContext(i);function s(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);