"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6694],{74597:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var r=t(74848),o=t(28453);const i=[{value:"Need help?",id:"need-help",level:3}];function s(e){const n={a:"a",h3:"h3",p:"p",...(0,o.R)(),...e.components},{ExternalUrlRef:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ExternalUrlRef",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"need-help",children:"Need help?"}),"\n",(0,r.jsx)(n.p,{children:"Get help from Appcircle's support team, or see how others are using Appcircle by joining our Slack Channel."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://join.slack.com/t/appcircleio/signup",children:(0,r.jsx)(t,{url:"https://join.slack.com/t/appcircleio/signup",title:"Slack",description:"No description available",image:"https://cdn.appcircle.io/docs/assets/appcircle-logo.png"})})})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},75504:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>g,frontMatter:()=>u,metadata:()=>p,toc:()=>m});var r=t(74848),o=t(28453),i=t(69678),s=t(70344),a=t(11470),c=t(19365),l=t(74597);const u={title:"Connecting to Private Repository via SSH",description:"Learn how to connect to a private repository via SSH in Appcircle",tags:["build profile","connection","ssh"],sidebar_position:6},d="Connecting to Private Repository via SSH",p={id:"build/manage-the-connections/adding-a-build-profile/connecting-to-private-repository-via-ssh",title:"Connecting to Private Repository via SSH",description:"Learn how to connect to a private repository via SSH in Appcircle",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/004_build/manage-the-connections/adding-a-build-profile/connecting-to-private-repository-via-ssh.md",sourceDirName:"004_build/manage-the-connections/adding-a-build-profile",slug:"/build/manage-the-connections/adding-a-build-profile/connecting-to-private-repository-via-ssh",permalink:"/nextjs-upload-file-tryout/zh-Hans/build/manage-the-connections/adding-a-build-profile/connecting-to-private-repository-via-ssh",draft:!1,unlisted:!1,editUrl:"https://github.com/appcircleio/appcircle-docusaurus/tree/master/docs/004_build/manage-the-connections/adding-a-build-profile/connecting-to-private-repository-via-ssh.md",tags:[{label:"build profile",permalink:"/nextjs-upload-file-tryout/zh-Hans/tags/build-profile"},{label:"connection",permalink:"/nextjs-upload-file-tryout/zh-Hans/tags/connection"},{label:"ssh",permalink:"/nextjs-upload-file-tryout/zh-Hans/tags/ssh"}],version:"current",sidebarPosition:6,frontMatter:{title:"Connecting to Private Repository via SSH",description:"Learn how to connect to a private repository via SSH in Appcircle",tags:["build profile","connection","ssh"],sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Connecting to Public Repository",permalink:"/nextjs-upload-file-tryout/zh-Hans/build/manage-the-connections/adding-a-build-profile/connecting-to-public-repository"},next:{title:"Connecting to Multiple Instances",permalink:"/nextjs-upload-file-tryout/zh-Hans/build/manage-the-connections/adding-a-build-profile/connecting-multiple-instance"}},h={},m=[{value:"Using Direct SSH Key",id:"using-direct-ssh-key",level:3},{value:"Connection Notice",id:"connection-notice",level:3},{value:"How to connect to AWS CodeCommit repositories through SSH?",id:"how-to-connect-to-aws-codecommit-repositories-through-ssh",level:3},...l.RM];function f(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"connecting-to-private-repository-via-ssh",children:"Connecting to Private Repository via SSH"}),"\n",(0,r.jsx)(n.h3,{id:"using-direct-ssh-key",children:"Using Direct SSH Key"}),"\n",(0,r.jsx)(n.p,{children:"If you use a private repository using an SSH Key, you need to have an SSH key pair ready and enter your private key to Appcircle so Appcircle can access your repository."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"For the SSH key field in the repository connection, the private key is required. The public key is entered/stored in the Git provider while the private key is entered in Appcircle."})}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.p,{children:"If you are using Azure Devops Server as a git provider, its version must be 2022 or later."}),(0,r.jsx)(n.p,{children:"Azure Devops Server 2020 and older versions are not supported due to reduced security."})]}),"\n",(0,r.jsx)(n.p,{children:"To generate a new key pair, you can run the following command:"}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(c.A,{value:"linux",label:"macOS/Linux",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh-keygen -t rsa -b 4096 -P '' -f ./appcircle-ssh -m PEM\n"})})}),(0,r.jsxs)(c.A,{value:"windows",label:"Windows",children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"PowerShell"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ssh-keygen -t rsa -b 4096 -P '\"\"' -f ./appcircle-ssh -m PEM\n"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Command Prompt"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'ssh-keygen -t rsa -b 4096 -P "" -f ./appcircle-ssh -m PEM\n'})})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["SSH keys generated should not contain a password. If ssh-keygen prompts you for a password, simply press Enter to skip the password prompt. Verify that your ",(0,r.jsx)(n.code,{children:"appcircle-ssh"})," file was created without the header ",(0,r.jsx)(n.code,{children:"Proc-Type: 4, ENCRYPTED"}),"."]})}),"\n",(0,r.jsxs)(n.p,{children:["Two files will be created as ",(0,r.jsx)(n.code,{children:"appcircle-ssh.pub"})," (Public key) and ",(0,r.jsx)(n.code,{children:"appcircle-ssh"})," (Private key)"]}),"\n",(0,r.jsxs)(n.p,{children:["You can then run the ",(0,r.jsx)(n.code,{children:"cat ./appcircle-ssh"})," command and enter its output to Appcircle and run the ",(0,r.jsx)(n.code,{children:"cat ./appcircle-ssh.pub"})," command and enter its output to the SSH keys section of the Git provider."]}),"\n",(0,r.jsx)(n.p,{children:"Select **Connect via SSH **through the connection selection"}),"\n",(0,r.jsx)(i.A,{url:"https://cdn.appcircle.io/docs/assets/main-connection-via-ssh2.png"}),"\n",(0,r.jsx)(n.p,{children:"Then, enter your relevant information to connect to the private repository:"}),"\n",(0,r.jsx)(i.A,{url:"https://cdn.appcircle.io/docs/assets/ssh-connection-2.png"}),"\n",(0,r.jsxs)(n.p,{children:["After the connection is successful, you can ",(0,r.jsx)(n.a,{href:"/build/manage-the-connections/adding-a-build-profile/#view-the-newly-created-build-profile",children:"view your newly created profile"})," and start building!"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["To enable triggered auto builds with webhooks for SSH repository connections, please refer to the following guide: ",(0,r.jsx)(n.a,{href:"/build/build-process-management/build-manually-or-with-triggers",children:"Build Manually or Automatically with Webhooks and Triggers"})]})}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.h3,{id:"connection-notice",children:"Connection Notice"}),(0,r.jsx)(n.p,{children:"If your SSH server runs on a different port, you should add the port number to your connection string."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"ssh://git@mydomain.com:port/path/to/repo.git"})}),(0,r.jsx)(n.p,{children:"For Appcircle to connect to the self hosted repositories, your connection must be reachable over the internet."})]}),"\n",(0,r.jsx)(n.p,{children:"Is your self-hosted GitLab instance under an enterprise firewall? Learn which IP addresses and ports Appcircle uses to function under the whitelist documentation:"}),"\n",(0,r.jsx)(s.A,{url:"/build/manage-the-connections/accessing-repositories-in-internal-networks-firewalls",children:(0,r.jsx)(n.p,{children:"Accessing Repositories in Internal Networks (Firewalls)"})}),"\n",(0,r.jsx)(n.h3,{id:"how-to-connect-to-aws-codecommit-repositories-through-ssh",children:"How to connect to AWS CodeCommit repositories through SSH?"}),"\n",(0,r.jsx)(n.p,{children:"AWS CodeCommit requires the creation of a dedicated user for repository connections through SSH (i.e. the root user cannot be used for this purpose)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"First, create a user in AWS IAM and assign the following permissions to the user:"}),"\n"]}),"\n",(0,r.jsx)(i.A,{url:"https://cdn.appcircle.io/docs/assets/1.png"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Go to IAM -> Users -> User -> Security credentials and select "Upload SSH key".'}),"\n",(0,r.jsx)(n.li,{children:"Take a note of the SSH key ID generated by AWS as follows:"}),"\n"]}),"\n",(0,r.jsx)(i.A,{url:"https://cdn.appcircle.io/docs/assets/2.png"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Once you login with the newly generated user and copy the repository URL in SSH format, you will receive URL as follows: ",(0,r.jsx)(n.code,{children:"ssh://git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo"})]}),"\n",(0,r.jsxs)(n.li,{children:["For the SSH connection to be initialized, you need to add the public key to your URL to have it in the following format, which then can be entered in Appcircle to be used in SSH connections.",(0,r.jsx)(n.code,{children:"ssh://Your-SSH-Key-ID@git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo"})]}),"\n"]}),"\n","\n",(0,r.jsx)(l.Ay,{})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var r=t(18215);const o={tabItem:"tabItem_Ymn6"};var i=t(74848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,s),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(96540),o=t(18215),i=t(23104),s=t(56347),a=t(205),c=t(57485),l=t(31682),u=t(89466);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,l.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const o=(0,s.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(o.location.search);n.set(i,e),o.replace({...o.location,search:n.toString()})}),[i,o])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,i=p(e),[s,c]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[l,d]=m({queryString:t,groupId:o}),[f,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,i]=(0,u.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:o}),b=(()=>{const e=l??f;return h({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{b&&c(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),g(e)}),[d,g,i]),tabValues:i}}var g=t(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=t(74848);function v(e){let{className:n,block:t,selectedValue:r,selectValue:s,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),u=e=>{const n=e.currentTarget,t=c.indexOf(n),o=a[t].value;o!==r&&(l(n),s(o))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>c.push(e),onKeyDown:d,onClick:u,...i,className:(0,o.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function x(e){let{lazy:n,children:t,selectedValue:o}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function j(e){const n=f(e);return(0,y.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,y.jsx)(v,{...e,...n}),(0,y.jsx)(x,{...e,...n})]})}function w(e){const n=(0,g.A)();return(0,y.jsx)(j,{...e,children:d(e.children)},String(n))}},70344:(e,n,t)=>{t.d(n,{A:()=>l});var r,o,i=t(96540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(null,arguments)}const a=e=>{let{title:n,titleId:t,...a}=e;return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text","aria-labelledby":t},a),n?i.createElement("title",{id:t},n):null,r||(r=i.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})),o||(o=i.createElement("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})))};var c=t(74848);function l(e){let{children:n,url:t}=e;return(0,c.jsxs)("a",{href:t,className:"content-ref-card",children:[(0,c.jsx)(a,{title:"File Icon",className:"file-icon"}),n]})}},69678:(e,n,t)=>{t.d(n,{A:()=>o});t(96540);var r=t(74848);function o(e){let{url:n}=e;return(0,r.jsx)("img",{className:"screenshot",src:n})}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(96540);const o={},i=r.createContext(o);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);